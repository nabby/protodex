<html>
<head>
<title>protodex</title>
<link rel="stylesheet" type="text/css" href="css/protodex.css">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.csv-0.71.js"></script>
<script type="text/javascript" src="js/Protodex.js"></script>
<script type="text/javascript" src="js/Protodex.Data.js"></script>
<script type="text/javascript" src="js/Protodex.UI.js"></script>
<script type="text/javascript">
$().ready(function() {
});

// bindings
$(document).on('submit', '#import form', function(e) {
	e.preventDefault();

	// grab the CSV input
	var csvText = $(e.currentTarget).find('[name=csv]').val();
	console.log('RAW INPUT', csvText);

	// create a Protodex.Data object
	var pd = new Protodex.Data(csvText);
	console.log('DATA', pd);

    // find all fields
    console.log('FIELDS', pd.getFields());

    // trim down to fname and lname
    pd.trim(["fname", "lname"]);
    console.log('TRIMMED', pd);
    console.log('TRIMMED FIELDS', pd.getFields());

    // sort by lname in (default) ascending order
    console.log('SORTED BY LNAME ASC', pd.sortData("lname"));

    // sort by fname in descending order
    console.log('SORTED BY FNAME DSC', pd.sortData("fname", "DSC"));

});


</script>
</head>
<body class="init">

<h1>protodex</h1>

<div id="import">
	<form>
	<textarea name="csv" rows="20" cols="60"></textarea>
	<br>
	<input type="submit" value="import">
	</form>
</div>

<div id="display">
</div>

</body>
</html>